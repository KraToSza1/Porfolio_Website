:root{
  --yellow:#ffe81f;
  --bg:#000;
  --white:#fff;
  --flash:#ff3b30;

  --panel:#0a0c14;
  --panel-border:#2b3555;
  --panel-text:#e7ecff;
  --panel-sub:#a9b6d6;
  --focus:#9edbff;

  /* Warp tint (optional themes override these) */
  --warp-tint-1: rgba(120,215,255,.14);
  --warp-tint-2: rgba(54,130,255,.10);

  /* readable crawl speed */
  --crawl-duration:90s;

  /* layout helpers */
  --panel-max-w: 900px;
}

/* ---------- Base ---------- */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background:var(--bg);
  color:var(--yellow);
  font-family:"Segoe UI",system-ui,-apple-system,Roboto,Arial,sans-serif;
  overflow:hidden;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

/* Optional SW title font */
@font-face{
  font-family:"StarJedi";
  src: url("../assets/fonts/starjedi/starjedi.ttf") format("truetype");
  font-display: swap;
}

/* Links & buttons */
a{color:#cfe1ff;text-decoration:none}
a:hover{text-decoration:underline}
button{font:inherit}
button:focus-visible,
a:focus-visible{
  outline:2px solid var(--focus);
  outline-offset:2px;
  border-radius:10px;
}

/* ---------- Starfield canvas ---------- */
.bg-canvas{
  position:fixed;
  inset:0;
  width:100vw;height:100vh;display:block;
  z-index:0;
  pointer-events:none;
  background:radial-gradient(1200px 800px at 20% 15%,#0a0b12 0,#06070d 60%,#000 100%);
}

/* ---------- Intro / crawl ---------- */
.crawl-wrapper{
  position:relative;
  height:100vh;
  display:grid;
  place-items:center;
  background:transparent;
  perspective:420px;
  z-index:2;
  overflow:hidden; /* keep crawl inside view */
}
/* soft fade top/bottom so text never looks harsh when it scrolls off */
.crawl-wrapper::before,
.crawl-wrapper::after{
  content:"";
  position:absolute;left:0;right:0;height:16vh;pointer-events:none;
  z-index:1;
}
.crawl-wrapper::before{
  top:0;
  background:linear-gradient(#000, transparent);
}
.crawl-wrapper::after{
  bottom:0;
  background:linear-gradient(transparent, #000);
}
.crawl{
  text-align:center;
  transform:rotateX(25deg);
  animation:crawl var(--crawl-duration) linear forwards;
  max-width:min(880px,92vw);
  padding:0 16px;
}
.crawl--slow{animation-duration:var(--crawl-duration)}

.title{
  font-family:"StarJedi","Segoe UI",sans-serif;
  letter-spacing:1px;
  font-size:clamp(2.4rem,6vw,4rem);
  margin:0 0 .6em;
  color:var(--yellow);
  text-shadow:0 2px 14px rgba(0,0,0,.5);
}
.subtitle{
  font-size:clamp(1.2rem,3.8vw,2rem);
  margin:0 0 1.25em;
  color:#e9ecff;
  text-shadow:0 1px 10px rgba(0,0,0,.4);
}

@keyframes crawl{
  0%{transform:rotateX(25deg) translateZ(0) translateY(52vh)}
  100%{transform:rotateX(25deg) translateZ(-3000px) translateY(-220vh)}
}

/* Start button */
#start-button,.btn-start{
  position:absolute;bottom:40px;left:50%;transform:translateX(-50%);
  padding:12px 24px;
  background:var(--yellow);color:#000;
  font-weight:700;border:0;border-radius:10px;cursor:pointer;
  box-shadow:0 8px 24px rgba(0,0,0,.35);
  z-index:3;
  transition:filter .15s ease, transform .08s ease;
}
#start-button:hover{filter:brightness(.95)}
#start-button:active{transform:translateX(-50%) scale(.98)}

/* ---------- Warp overlay ---------- */
.warp{
  position:fixed;inset:0;z-index:4;
  background:
    radial-gradient(1200px 800px at 50% 50%, var(--warp-tint-1) 0%, transparent 65%),
    radial-gradient(900px 600px at 20% 15%, var(--warp-tint-2) 0%, transparent 60%),
    rgba(0,0,0,.2);
  pointer-events:none;
  opacity:0;transition:opacity .25s ease;
}
.warp.active{opacity:1}

/* Optional warp color themes */
.warp.theme-cyan  { --warp-tint-1: rgba(120,215,255,.18); --warp-tint-2: rgba(54,130,255,.12); }
.warp.theme-violet{ --warp-tint-1: rgba(205,153,255,.18); --warp-tint-2: rgba(131,78,255,.12); }
.warp.theme-magma { --warp-tint-1: rgba(255,142,98,.18);  --warp-tint-2: rgba(255,68,68,.12); }
.warp.theme-emerald{--warp-tint-1: rgba(115,255,188,.18); --warp-tint-2: rgba(26,184,124,.12); }

@keyframes warpPulse{
  0%{filter:saturate(1) brightness(1)}
  100%{filter:saturate(1.12) brightness(1.06)}
}
.warp.pulse.active{animation:warpPulse 0.9s ease-in-out infinite alternate}

/* ---------- Stage (planets + ship) ---------- */
.stage{
  position:relative;width:100vw;height:100vh;
  z-index:2;
  cursor:default;          /* normal mouse */
  touch-action:manipulation;
}
.stage[hidden]{display:none}

/* Planet canvas ABOVE ship3d so planets occlude the ship */
#fps-canvas{
  position:absolute;inset:0;width:100%;height:100%;display:block;
  z-index:2;
  will-change:transform;
}

/* 3D ship canvas â€” BEHIND planets */
.ship3d-canvas{
  position:absolute;inset:0;width:100%;height:100%;
  z-index:1;
  display:block;
  pointer-events:none;
  background:transparent;
}

/* HARD-KILL the old 2D fallback ship (paper plane) if present */
#ship{ display:none !important; }

/* ---------- Click flash (hit marker) ---------- */
.flash{
  position:absolute;width:40px;height:40px;
  border:2px solid var(--flash);border-radius:50%;pointer-events:none;
  animation:flash .35s ease-out forwards;z-index:10;
  transform:translate(-50%,-50%);
}
@keyframes flash{
  from{transform:translate(-50%,-50%) scale(1);opacity:1}
  to{transform:translate(-50%,-50%) scale(2.6);opacity:0}
}

/* ---------- Landing overlay (planet surface) ---------- */
#landing,.landing{
  position:fixed;inset:0;z-index:30;
  display:grid;grid-template-columns:1fr;grid-template-rows:1fr;
}
#landing[hidden],.landing[hidden]{display:none}

#landing .landing__bg,.landing .landing__bg{
  grid-area:1 / 1;
  background:radial-gradient(1200px 800px at 20% 15%,#0b0e15 0,#05060b 60%,#000 100%);
  background-size:cover;background-position:center;
  filter:saturate(1.05) brightness(.96);
}

#landing .landing__panel,.landing .landing__panel{
  grid-area:1 / 1;
  align-self:center;justify-self:center;
  width:min(var(--panel-max-w),92vw);max-height:86vh;overflow:auto;
  -webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);
  background:rgba(10,12,20,.55);
  border:1px solid var(--panel-border);border-radius:16px;padding:20px;
  box-shadow:0 22px 80px rgba(0,0,0,.55);
  color:var(--panel-text);
  transform:translateY(8px) scale(.985);
  opacity:0;
}

@keyframes panelIn{
  from{opacity:0;transform:translateY(8px) scale(.985)}
  to{opacity:1;transform:translateY(0) scale(1)}
}
#landing:not([hidden]) .landing__panel{animation:panelIn .28s ease-out both}

#landing .landing__panel h2,.landing .landing__panel h2{
  margin:0 0 10px;color:#cfe1ff;font-size:clamp(1.4rem,3vw,2rem)
}
#landing .landing__panel h3{
  margin:18px 0 8px;color:#d8e6ff;font-weight:600;font-size:1.05rem
}
#landing .landing__panel p,.landing .landing__panel p{
  color:var(--panel-sub);line-height:1.6
}
#landing .landing__close,.landing .landing__close{
  background:transparent;border:1px solid #3a4775;color:#cfe1ff;
  padding:8px 12px;border-radius:10px;cursor:pointer;margin-bottom:12px
}
#landing .landing__close:hover{background:rgba(62,78,121,.15)}

/* nice scroll */
#landing .landing__panel::-webkit-scrollbar{width:10px}
#landing .landing__panel::-webkit-scrollbar-thumb{
  background:#2a355a;border-radius:8px
}
/* Firefox */
#landing .landing__panel{scrollbar-color:#2a355a transparent;scrollbar-width:thin}

/* ---------- About block (with avatar) ---------- */
.about{
  display:grid;
  grid-template-columns:96px 1fr;
  gap:16px;
  align-items:center;
}
.about__avatar{
  width:96px;height:96px;border-radius:50%;
  object-fit:cover;object-position:center;
  border:2px solid rgba(158,219,255,.35);
  /* subtle animated glow even without wrapper */
  box-shadow:
    0 0 0 2px rgba(158,219,255,.2) inset,
    0 6px 24px rgba(0,0,0,.35),
    0 0 24px rgba(120,215,255,.25);
  animation:avatarGlow 4.2s ease-in-out infinite alternate;
}
@keyframes avatarGlow{
  from{ box-shadow:0 0 0 2px rgba(158,219,255,.18) inset, 0 6px 24px rgba(0,0,0,.35), 0 0 18px rgba(120,215,255,.18) }
  to  { box-shadow:0 0 0 2px rgba(158,219,255,.34) inset, 0 10px 28px rgba(0,0,0,.45), 0 0 34px rgba(120,215,255,.38) }
}
.about__text{color:var(--panel-text)}
@media (max-width:520px){
  .about{grid-template-columns:72px 1fr}
  .about__avatar{width:72px;height:72px}
}

/* (Optional) fancier ring if you wrap the img in .about__avatar-wrap */
.about__avatar-wrap{position:relative;width:96px;height:96px}
.about__avatar-wrap .about__avatar{position:relative;z-index:1}
.about__avatar-wrap::before{
  content:"";position:absolute;inset:-6px;border-radius:50%;
  background:conic-gradient(from 0deg, #78d7ff, #3682ff, #78d7ff);
  filter:saturate(1.1) blur(.4px);
  animation:spin 6.5s linear infinite;
  opacity:.45;
}
.about__avatar-wrap::after{
  content:"";position:absolute;inset:-2px;border-radius:50%;
  background:radial-gradient(closest-side, rgba(120,215,255,.35), transparent 70%);
  pointer-events:none;
}
@keyframes spin{to{transform:rotate(360deg)}}
@media (max-width:520px){
  .about__avatar-wrap{width:72px;height:72px}
}

/* Helpers for the wide About layout (image + rich text) */
.about--wide{
  grid-template-columns:120px 1fr;
  align-items:flex-start;
}
.about__media{display:flex;align-items:center;justify-content:center}
.about__bullets{color:var(--panel-sub);line-height:1.7;padding-left:18px;margin:.5rem 0 0}

/* Fancy avatar-frame variant (used by JS template) */
.avatar-frame{position:relative;width:96px;height:96px}
.avatar-frame__img{
  width:96px;height:96px;border-radius:50%;
  object-fit:cover;border:2px solid rgba(158,219,255,.35);
  display:block;position:relative;z-index:2;
}
.avatar-frame__ring,
.avatar-frame__glow{
  position:absolute;inset:-6px;border-radius:50%;pointer-events:none
}
.avatar-frame__ring{
  background:conic-gradient(from 0deg,#78d7ff,#3682ff,#78d7ff);
  opacity:.45;filter:saturate(1.1) blur(.4px);
  animation:spin 7s linear infinite;
  z-index:1;
}
.avatar-frame__glow{
  inset:-2px;background:radial-gradient(closest-side, rgba(120,215,255,.28), transparent 70%);
  z-index:0;
}

/* ---------- Skills layout ---------- */
.skills{display:grid;gap:16px}
.skill-group{
  background:rgba(17,22,36,.5);
  border:1px solid #223055;
  border-radius:12px;
  padding:14px;
}
.skill-group__title{
  margin:0 0 8px;
  color:#d7e6ff;
  font-weight:600;
  font-size:1rem;
}
.skill{display:grid;gap:6px;margin:8px 0}
.skill__row{display:flex;align-items:center;justify-content:space-between;gap:12px}
.skill__name{color:#e7ecff;font-weight:600;font-size:.95rem}
.skill__pct{color:#cfe1ff;font-size:.85rem;opacity:.9}
.skill__bar{
  position:relative;height:10px;border-radius:9999px;overflow:hidden;
  background:linear-gradient(180deg, rgba(255,255,255,.12), rgba(255,255,255,.06));
  border:1px solid rgba(158,219,255,.22);
  box-shadow:inset 0 1px 2px rgba(0,0,0,.45);
}
.skill__fill{
  --w: 0%;
  width:0%;height:100%;
  background:linear-gradient(90deg, #78d7ff, #3682ff);
  box-shadow:0 0 12px rgba(120,215,255,.55), inset 0 -1px 0 rgba(0,0,0,.3);
  animation:fillBar 1.1s cubic-bezier(.2,.7,.2,1) forwards;
}
@keyframes fillBar{from{width:0%}to{width:var(--w)}}

/* Optional palette variants for bars */
.skill__fill--aqua  { background:linear-gradient(90deg,#78d7ff,#3682ff); box-shadow:0 0 12px rgba(120,215,255,.55), inset 0 -1px 0 rgba(0,0,0,.3); }
.skill__fill--amber { background:linear-gradient(90deg,#ffd84a,#f4b800); box-shadow:0 0 12px rgba(255,216,74,.45),  inset 0 -1px 0 rgba(0,0,0,.3); }
.skill__fill--coral { background:linear-gradient(90deg,#ff9aa2,#ff4f6d); box-shadow:0 0 12px rgba(255,159,174,.45), inset 0 -1px 0 rgba(0,0,0,.3); }
.skill__fill--mint  { background:linear-gradient(90deg,#9df6c7,#2ce6a1); box-shadow:0 0 12px rgba(157,246,199,.45), inset 0 -1px 0 rgba(0,0,0,.3); }

.badges{display:flex;flex-wrap:wrap;gap:8px;margin-top:8px}
.badge{
  padding:4px 8px;border-radius:9999px;
  background:rgba(120,215,255,.14);
  border:1px solid rgba(120,215,255,.35);
  color:#dff3ff;font-size:.8rem
}

.link-row{display:flex;flex-wrap:wrap;gap:10px;margin-top:10px}
.link-btn{
  display:inline-flex;align-items:center;gap:8px;
  padding:8px 12px;border-radius:10px;
  background:rgba(40,54,92,.45);
  border:1px solid #3a4775;color:#dbe7ff;text-decoration:none
}
.link-btn:hover{background:rgba(40,54,92,.7)}
.link-btn:active{transform:translateY(1px)}

/* ---------- Contact form ---------- */
.contact{
  display:grid;gap:12px;margin-top:8px
}
.contact__row{
  display:grid;gap:12px;grid-template-columns:1fr 1fr
}
@media (max-width:720px){
  .contact__row{grid-template-columns:1fr}
}
.input, .textarea{
  width:100%;
  color:#e7ecff;
  background:rgba(17,22,36,.55);
  border:1px solid #223055;
  border-radius:10px;
  padding:10px 12px;
}
.textarea{min-height:120px;resize:vertical;line-height:1.45}
.input::placeholder,.textarea::placeholder{color:#a9b6d6}
.btn{
  padding:10px 14px;border-radius:10px;border:1px solid #3a4775;
  background:rgba(40,54,92,.55);color:#dbe7ff;cursor:pointer
}
.btn:hover{background:rgba(40,54,92,.75)}
.btn:active{transform:translateY(1px)}

/* ---------- Case studies ---------- */
.case{
  display:grid;gap:14px;
  grid-template-columns:220px 1fr;
  background:rgba(17,22,36,.5);
  border:1px solid #223055;border-radius:12px;
  padding:14px;
}
@media (max-width:820px){
  .case{grid-template-columns:1fr}
}
.case__hero{
  width:100%;aspect-ratio:16/9;object-fit:cover;border-radius:10px;
  border:1px solid rgba(158,219,255,.18);
  background:#0a0f1f;
}
.case__title{margin:0 0 6px;color:#d7e6ff;font-weight:700}
.case__summary{margin:0 0 8px;color:var(--panel-sub)}
.pills{display:flex;flex-wrap:wrap;gap:8px;margin:6px 0}
.pill{
  font-size:.78rem;padding:4px 8px;border-radius:9999px;
  background:rgba(120,215,255,.14);border:1px solid rgba(120,215,255,.28);
  color:#dff3ff
}
.case__bullets{margin:8px 0 0; padding-left:18px; color:var(--panel-sub); line-height:1.6}

/* assistive */
.sr-only{
  position:absolute;width:1px;height:1px;padding:0;margin:-1px;
  overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0;
}

/* ---------- Pointer/Reduced motion media ---------- */
@media (pointer:coarse){
  .stage{cursor:auto}
}
@media (prefers-reduced-motion:reduce){
  .crawl{animation-duration:0s;transform:none}
  .warp{transition:none}
  .stage{cursor:default}
  .skill__fill{animation:none}
  .about__avatar{animation:none}
}

/* ======== Additive helpers (kept separate; safe to remove later) ======== */

/* Better focus states on inputs */
.input:focus-visible, .textarea:focus-visible{
  outline:2px solid var(--focus);
  outline-offset:2px;
  border-color:#3a77ff;
}

/* Disabled button state */
.btn[disabled]{
  opacity:.55; cursor:not-allowed;
}

/* Simple success/error messages for contact form JS */
.contact__status{font-size:.9rem;line-height:1.5}
.contact__status--ok{color:#a6ffbf}
.contact__status--err{color:#ff9aa2}
.input.is-invalid, .textarea.is-invalid{
  border-color:#ff6b6b;
  box-shadow:0 0 0 1px rgba(255,107,107,.25) inset;
}

/* About wide layout tweaks on small screens */
@media (max-width:640px){
  .about--wide{grid-template-columns:1fr;gap:14px}
  .about__media{justify-content:center}
}
